{% extends "default.html" %}

{% block title %}Settings{% endblock %}

{% block add_functions_to_js %}
    function clickedEditUsername() {
        document.getElementById("edit_username_box").style.display = "block";
    }

    function clickedCancelUsername() {
        document.getElementById("edit_username_box").style.display = "none";
    }

    function clickedEditEmail() {
        document.getElementById("edit_email_box").style.display = "block";
    }

    function clickedCancelEmail() {
        document.getElementById("edit_email_box").style.display = "none";
    }

    function clickedEditPhone() {
        document.getElementById("edit_phone_box").style.display = "block";
    }

    function clickedCancelPhone() {
        document.getElementById("edit_phone_box").style.display = "none";
    }

    function clickedEditPassword() {
        document.getElementById("edit_password_box").style.display = "block";
    }

    function clickedCancelPassword() {
        document.getElementById("edit_password_box").style.display = "none";
    }

{% endblock %}

{% block content %}

    <h2>Settings</h2>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert {{ category }}"> {{ message|capitalize }} </div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <div id="profile_settings">

        <div id="username_box">
            <p>Username:</p>
            <p>{{session.username}}</p>
            <button id="edit_username_button" onclick="clickedEditUsername()">EDIT</button>
        </div>

        <div id="edit_username_box">
            <form name="save_username_form" action="/save_username" method="post">
                <label for="username"></label>
                <input type="text" id="username" name="username">
                <button id="save_user_button" type="submit">SAVE</button>
            </form>
            <button id="cancel_username_button" onclick="clickedCancelUsername()">CANCEL</button>
        </div>

        <div id="email_box">
            <p>Email:</p>
            <p>{{ session.email }}</p>
            <button id="edit_email_button" onclick="clickedEditEmail()">EDIT</button>
        </div>

        <div id="edit_email_box">
            <form name="save_email_form" action="/save_email" method="post">
                <label for="email"></label>
                <input type="email" id="email" name="email">
                <button id="save_email_button" type="submit" >SAVE</button>
            </form>
            <button id="cancel_email_button" onclick="clickedCancelEmail()">CANCEL</button>
        </div>

        <div id="phone_box">
            <p>Phone Number:</p>
            <p>{{ session.phone_number }}</p>
            <button id="edit_phone_button" onclick="clickedEditPhone()">EDIT</button>
        </div>

        <div id="edit_phone_box">
            <form name="save_phone_form" action="/save_phone" method="post">
                <label for="phone"></label>
                <input type="tel" id="phone" name="phone">
                <button id="save_phone_button" type="submit">SAVE</button>
            </form>
            <button id="cancel_phone_button" onclick="clickedCancelPhone()">CANCEL</button>
        </div>

        <div id="password_box">
            <p>Password:</p>
            <p>********</p>
            <button id="edit_password_button" onclick="clickedEditPassword()">EDIT</button>
        </div>

        <div id="edit_password_box">
            <form name="save_password_box" action="/save_password" method="post">
                <label for="password1"></label>
                <input type="password" id="password1" name="password1">
                <label for="password2">Confirm</label>
                <input type="password" id="password2" name="password2">
                <button id="save_password2_button" type="submit">SAVE</button>
            </form>
            <button id="cancel_password_button" onclick="clickedCancelPassword">CANCEL</button>
        </div>

    </div>

{% endblock %}